{"version":3,"sources":["components/PersonForm.js","components/Person.js","components/Filter.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["PersonForm","_ref","addPerson","name","handleNameChange","number","handleNumberChange","react_default","a","createElement","onSubmit","value","onChange","type","Person","delPerson","onClick","Filter","personFilter","handlePersonFilter","Notification","message","className","baseUrl","services_persons","axios","get","then","response","data","newObject","post","id","put","concat","delete","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","setPersonFilter","_useState9","_useState10","notification","setNotification","useEffect","personService","initialPersons","updatePerson","personFound","dialog","window","confirm","changedPerson","objectSpread","returnedPerson","map","p","setTimeout","catch","error","filter","rows","person","toLowerCase","includes","components_Person","key","n","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","find","newPerson","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.46c562d4.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst PersonForm = ( {addPerson, name, \r\n  handleNameChange, number, handleNumberChange }) => {\r\n  \r\n    return (\r\n    <form onSubmit={addPerson}>\r\n    <div>\r\n      name: \r\n      <input value={name} onChange={handleNameChange} />\r\n    </div>\r\n    <div>\r\n      number:\r\n      <input value={number} onChange={handleNumberChange} />\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = ({ name, number, delPerson }) => {\r\n\r\n  return (\r\n    <div>\r\n      {name} {number}\r\n      <button onClick={delPerson}>delete</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\n\r\nconst Filter = ({ personFilter, handlePersonFilter }) => {\r\n  return (\r\n    <div>\r\n    filter shown with\r\n    <input value={personFilter} onChange={handlePersonFilter} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Notification = ({ message, type }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n  \r\n  let className = 'notification'\r\n  if (type === 'error') {\r\n    className += ' error-notification'\r\n  }\r\n  if (type === 'success') {\r\n    className += ' success-notification'\r\n  }\r\n\r\n  return (\r\n    <div className={className}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\nimport PersonForm from './components/PersonForm.js'\nimport Person from './components/Person.js'\nimport Filter from './components/Filter.js'\nimport Notification from './components/Notification.js'\nimport personService from './services/persons.js'\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [personFilter, setPersonFilter] = useState('')\n  const [notification, setNotification] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n        .then(initialPersons => {\n          setPersons(initialPersons)\n        })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personFound = persons.find(person => person.name === newName)\n    if (personFound) {\n      updatePerson(personFound)\n    }\n    else {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n        .create(newPerson)\n          .then(returnedPerson => {\n            setPersons(persons.concat(returnedPerson))\n            setNewName('')\n            setNewNumber('')\n            setNotification({\n              message: `Added ${returnedPerson.name}`,\n              type: 'success'\n            })\n            setTimeout(() => setNotification(null), 5000)\n          })\n          .catch(error => {\n            setNotification({\n              message: `${newPerson.name} could not be added to server`,\n              type: 'error'\n            })\n            setTimeout(() => setNotification(null), 5000)\n          })\n    }\n  }\n\n  const updatePerson = (personFound) => {\n    const dialog = `${personFound.name} is already added to phonebook, replace the old number with a new one?`\n    const confirmUpdate = window.confirm(dialog)\n\n    if (confirmUpdate) {\n      const changedPerson = { ...personFound, number: newNumber}\n      personService\n        .update(changedPerson.id, changedPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(p => p.id !== changedPerson.id ? p : returnedPerson))\n            setNewName('')\n            setNewNumber('')\n            setNotification({\n              message: `Updated number for ${returnedPerson.name}`,\n              type: 'success'\n            })\n            setTimeout(() => setNotification(null), 5000)\n          })\n          .catch(error => {\n            setPersons(persons.filter(p => p.id !== changedPerson.id))\n            setNotification({\n              message: `${personFound.name} was already removed from server`,\n              type: 'error'\n            })\n            setTimeout(() => setNotification(null), 5000)\n          })\n    }\n  }\n\n  const delPersonOf = (id, name) => {\n    const confirmDelete = window.confirm(`Delete ${name}`)\n    if (confirmDelete) {\n      personService\n        .remove(id)\n          .then(() => {\n            setPersons(persons.filter(n => n.id !== id))\n            setNotification({\n              message: `Deleted ${name}`,\n              type: 'success'\n            })\n            setTimeout(() => setNotification(null), 5000)\n          })\n          .catch(error => {\n            setPersons(persons.filter(n => n.id !== id))\n            setNotification({\n              message: `${name} was already removed from server`,\n              type: 'error'\n            })\n            setTimeout(() => setNotification(null), 5000)\n          })\n    }\n  }\n\n  const handleNameChange = (event) => (setNewName(event.target.value))\n  const handleNumberChange = (event) => (setNewNumber(event.target.value))\n  const handlePersonFilter = (event) => (setPersonFilter(event.target.value))\n  \n  const personsToShow = personFilter === ''\n    ? persons\n    : persons.filter(person => person.name.toLowerCase().includes(personFilter.toLowerCase()))\n\n  const rows = personsToShow.map(person => \n    <Person \n      key={person.id}\n      name={person.name}\n      number={person.number}\n      delPerson={() => delPersonOf(person.id, person.name)}\n    />\n  )\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification \n        message={(notification) ? notification.message : null} \n        type={(notification) ? notification.type : null}\n      />\n      <Filter \n        filter={personFilter}\n        handlePersonFilter={handlePersonFilter} \n      />\n\n      <h3>add a new</h3>\n      <PersonForm \n        addPerson={addPerson}\n        name={newName}\n        handleNameChange={handleNameChange}\n        number={newNumber} \n        handleNumberChange={handleNumberChange}\n      />\n\n      <h3>Numbers</h3>\n      {rows}\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}